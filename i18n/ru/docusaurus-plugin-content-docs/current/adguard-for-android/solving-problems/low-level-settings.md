---
title: Низкоуровневые настройки
sidebar_position: 6
---

## Как получить доступ к Низкоуровневым настройкам

> Изменение *Низкоуровневых настроек* может вызвать проблемы с производительностью AdGuard, нарушить подключение к интернету или поставить под угрозу вашу безопасность и конфиденциальность. Заходите в этот раздел, только если вы уверены в своих действиях или наша служба поддержки попросила вас об этом.

Чтобы попасть в *Низкоуровневые настройки*, откройте главное меню, нажмите *Настройки*, выберите *Расширенные* и найдите *Низкоуровневые настройки* в нижней части экрана.

## Низкоуровневые настройки

`pref.boot.startup.delay`

Здесь вы можете установить задержку запуска AdGuard после загрузки устройства (в секундах). Эта настройка актуальна, только если включен автозапуск AdGuard (Настройки → Основные → Автозапуск AdGuard).

`pref.dns.blocking.type`

Здесь вы можете выбрать, как AdGuard будет отвечать на заблокированные DNS-запросы:

0 — означает блокировать запросы с помощью кода ответа *Refused* для *Правил фильтрации сети* и с помощью *неопределённого IP * для *правил hosts*. 1 — блокировать запросы с помощью кода ответа *NXDomain* для всех правил фильтрации. 2 — блокировать запросы с помощью *неопределённого IP* для всех видов правил фильтрации. 3 — блокировать запросы с помощью *неопределённого IP* для всех видов правил фильтрации. 4 — блокировать запросы с помощью кода ответа *Refused* для всех видов правил фильтрации.

1 используется по умолчанию, если введённое значение неверно.

`pref.dns.bootstrap`

Загрузочный DNS для серверов DoH, DoT и DoQ. По умолчанию используется системный DNS-сервер.

`pref.dns.detect.search.domains`

Если включено, AdGuard обнаруживает домены локальной сети и автоматически перенаправляет их запросы на резервный вышестоящий сервер, если он задан.

`pref.dns.fallback`

Здесь вы можете указать резервный DNS-резолвер, который будет использоваться, когда настроенный сервер недоступен. Если он не указан, системный DNS-сервер по умолчанию будет использоваться в качестве резервного. Строка "none" означает, что резервный сервер не будет использоваться.


`pref.dns.fallback.domains`

Здесь вы можете перечислить домены, которые будут перенаправлены напрямую на резервные апстримы (если они существуют).

`pref.dns.timeout`

Здесь вы можете указать время ожидания в миллисекундах, которое будет использоваться для каждого DNS-запроса. Обратите внимание, что если вы используете несколько апстримов, резервный DNS-резолвер будет использоваться только после истечения времени ожидания каждого потока.

`pref.enforce.https.filtering`

Здесь уже перечислены приложения, для которых AdGuard фильтрует HTTPS-трафик. Вы можете добавить в этот список любое приложение, даже если оно разработано для Android 7+. Но прежде проверьте, доверяет ли приложение HTTPS-сертификату AdGuard, который находится в Пользовательском хранилище, или разработчики не предусмотрели такую возможность.

`pref.enforce.paused.notification`

Принудительное уведомление о приостановленной защите, даже если для значка уведомления установлено значение «Отключено» (для Android ниже Oreo).

`pref.excluded.packages`

Здесь вы можете указать пакеты и UID, которые хотите исключить из фильтрации.

`pref.filtered.ports`

Здесь вы можете указать порты, соединения с которыми будут фильтроваться.

`pref.har.capture`

Здесь вы можете включить захват файла HAR. Используйте его только для целей отладки! Если настройка включена, AdGuard создаст папку har в кеш-директории приложения. Она будет содержать информацию обо всех отфильтрованных HTTP-запросах в формате HAR 1.2, и её можно будет проанализировать с помощью программы Fiddler.

`pref.https.ignored.errors`

Для перечисленных здесь доменов и имён пакетов будут отключены уведомления о том, что они не доверяют HTTPS-сертификату AdGuard.

`pref.https.opportunistic`

Если этот параметр включен, AdGuard исключает из фильтрации трафик любого приложения, которое не доверяет нашему сертификату. По умолчанию эта функция включена.

`pref.ipv4.routs.excluded`

Здесь вы можете найти список диапазонов IPv4, исключённых из фильтрации. Например, мы не фильтруем подключения к диапазонам частных IP-адресов. При необходимости вы можете дополнить этот список.

`pref.ipv6.routs.excluded`

Здесь вы можете перечислить диапазоны IPv6-адресов, которые вы хотите исключить из фильтрации.

`pref.notify.on.unknown.ca`

Если этот параметр включен, AdGuard будет показывать уведомления о том, что какое-либо приложение не доверяет нашему HTTPS-сертификату.

`pref.proxy.block.ipv6`

Если включено, AdGuard блокирует все интернет-соединения через IPv6 при работе в режиме «Прокси с автоматической установкой».

`pref.proxy.disable.reconfigure`

Здесь вы можете отключить автоматическую перенастройку AdGuard root proxy при изменении сетевого подключения.

`pref.quic.bypass.packages`

Здесь вы можете перечислить пакеты, для которых AdGuard не будет фильтровать QUIC-трафик.

`pref.removed.html.log`

Если этот параметр включен, AdGuard показывает информацию о заблокированных HTML-элементах в логе фильтрации.

`pref.root.clear.youtube`

Если включено, AdGuard очищает данные приложения YouTube при запуске устройства. Требуется root-доступ.

`pref.root.set.oom_adj`

Если включено, AdGuard устанавливает `minimum oom_score_adj`, чтобы его собственные процессы функционировали постоянно. Требуется root-доступ.

`pref.samsungpay.autopause.enable`

Если включено, AdGuard приостанавливает защиту, когда вы открываете приложение Samsung Pay. Требуется доступ к данным об использовании устройства.

`pref.vpn.android10.mitigate`

Если этот параметр включен, AdGuard применяет обходной путь, который устраняет проблему программных перезагрузок, вызванную ошибкой Android 10.

`pref.vpn.capture`

Если эта функция включена, AdGuard создаст специальный файл с именем tun.pcap. Он содержит все сетевые пакеты, передаваемые через VPN. Этот файл находится в папке кэша приложения и может быть проанализирован с помощью программы Wireshark.

`pref.vpn.disable.pause`

Эта опция отключает автоматическую приостановку VPN при отсутствии сети, подключении к ней или при переходе в режим энергосбережения.

`pref.vpn.disable.reconfigure`

Эта опция отключает автоматическую перенастройку VPN при отсутствии сети, подключении к ней или при переходе в режим энергосбережения.

`pref.vpn.ipv4.address`

IPv4-адрес интерфейса TUN.

`pref.vpn.ipv4.bypass`

Если данная опция включена, трафик IPv4-сетей исключён из VPN-фильтрации. В этом случае IPv4 будет работать, но не будет фильтроваться.

`pref.vpn.ipv4.force.complex`

Если включено, то при возможности VPN будет обходить локальную сеть. Однако локальная сеть не исключается для сетей со сложной конфигурацией, и все соединения, включая локальные, будут фильтроваться.

`pref.vpn.ipv4.force.default`

Эта функция отключает маршруты, которые мы используем для исключения LAN из фильтрации.

`pref.vpn.ipv6.address`

IPv6-адрес интерфейса TUN.

`pref.vpn.ipv6.bypass`

Если включено, весь IPv6-трафик исключается из VPN-фильтрации. В этом случае IPv6 будет работать, но не будет фильтроваться.

`pref.vpn.ipv6.disable`

Эта функция принудительно отключает фильтрацию для сетей IPv6. В этом случае IPv6 не будет работать вообще.

`pref.vpn.ipv6.force`

Эта функция принудительно включает фильтрацию для сетей IPv6. По умолчанию приложение не фильтрует IPv6 на Lollipop и для некоторых операторов сотовой связи.

`pref.vpn.tun.mtu`

Здесь вы можете установить максимальное значение передачи данных MTU через VPN. Рекомендуемый интервал значений — от 1500 до 9000.

`Сброс`

Вы всегда можете сбросить низкоуровневые настройки к значениям по умолчанию.
