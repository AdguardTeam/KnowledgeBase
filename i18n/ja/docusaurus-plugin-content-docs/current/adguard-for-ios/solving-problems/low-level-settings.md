---
title: ローレベル設定の使い方ガイド
sidebar_position: 5
---

:::info

この記事は、システムレベルでお使いのデバイスを保護する多機能な広告ブロッカー、「AdGuard for iOS」についてです。 実際にどのように動作するかを確認するには、[AdGuard アプリをダウンロード](https://agrd.io/download-kb-adblock)してください。

:::

## ローレベル設定にアクセスする方法

:::caution

※*ローレベル設定*を考えずに変更すると、AdGuard のパフォーマンスの悪化やインターネット接続の切断につながったり、あなたのセキュリティやプライバシーを侵害してしまう可能性があります。 これらの設定は、何をしているのかわかっている場合、またはサポートチームから指示された場合にのみ開いてください。

:::

*ローレベル設定*に移動するには、画面右下の⚙️アイコンをタップして*設定*を開きます。 *一般設定* を選択し、 *高度な設定モード* スイッチをオンにすると、その下に *詳細設定* セクションがに現れます。 *詳細設定* をタップして、 *ローレベル設定* に移動します。

## ローレベル設定

### Tunnelモード

主なモードは2つあります: *Split* と *Full* です。 *Split-Tunnel*モードでは、AdGuardはいわゆる「パーソナルVPN」系アプリと互換性があります。 *Full-Tunnel*モードでは、AdGuardと同時に他のVPNを使用することはできません。

*Split-Tunnel*モードには特有の機能があります。DNSプロキシのパフォーマンスが低い場合（例えばAdGuard DNSサーバーからの応答がタイムリーに返ってこない場合）、iOSは代わりにiOS設定で指定されたDNSサーバーを経由してトラフィックを迂回させます。 この時、広告はブロックされておらず、DNSトラフィックは暗号化されていません。

*Full-Tunnel*モードでは、AdGuard設定で指定されたDNSサーバーのみが使用されます。 サーバーが応答しない場合は、インターネットは機能しません。 *Full-Tunnel*モードを有効にすると、一部のプログラム（FaceTimeなど）のパフォーマンスに悪影響を与えたり、アプリのアップデートに問題が生じたりする場合があります。

デフォルトでは、AdGuardは最も安定したオプションとして*Split-Tunnel*モードを使用します。

*Full-Tunnel(VPN アイコンなし)*と呼ばれる追加モードもあります。 これは*Full-Tunnel*モードと全く同じですが、システムラインにVPNアイコンが表示されないように設定されています。

### ブロックモード

このモジュールでは、ブロックすべきDNSクエリに対するAdGuardの応答方法を選択できます:

- デフォルト：Adblockスタイルのルールによってブロックされると、ゼロIPアドレスで応答します。 /etc/hostsスタイルのルールによってブロックされると、ルールで指定されたIPアドレスで応答します。
- REFUSED：「REFUSED」コードで応答します
- NXDOMAIN：NXDOMAINコードで応答します。
- Unspecified IP：ゼロIPアドレスで応答します。
- Custom IP：手動で設定されたIPアドレスで応答します。

### IPv6をブロックする

スイッチをオンにしますと、IPv6クエリ（AAAAリクエスト）のブロックが有効になります。 AAAAタイプのDNSリクエストは解決されなくなるので、IPv4クエリしか処理できないくなります。

### Blocked response TTL（ブロック済み応答のTTL）

ここでは、デバイスがDNSリクエストに対する応答のキャッシュ期間を設定できます。 指定された生存時間(秒単位)の間、リクエストはDNSサーバーに再リクエストすることなくキャッシュから読み出されます。

### Bootstrap servers

DNS-over-HTTPS、DNS-over-TLS、およびDNS-over-QUICでは、メインDNSサーバーのIPアドレスを取得するためにbootstrap（ブートストラップ）サーバーが必要です。 指定されていない場合は、iOS設定にあるDNSサーバーがブートストラップサーバーとして使用されます。

### Fallback servers

ここでは、メインサーバーが応答しなかった場合にリクエストを再ルーティング する代替サーバー（フォールバックサーバー）を指定することができます。 指定がない場合、システムDNSサーバーがフォールバックとして使用されます。 `none`を指定することもできます。この場合、フォールバックサーバーは設定なしになり、メインDNSサーバーのみが使用されます。

### バックグラウンドでのアプリ更新間隔

ここでは、AdGuardアプリがバックグラウンドでフィルタの更新チェックを行う頻度を選択できます。 更新チェックは、指定された期間よりも頻繁に実行されることはありませんが、正確な間隔は守られない可能性があることに注意してください。
