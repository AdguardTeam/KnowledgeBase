---
title: Расширенные настройки
sidebar_position: 4
---

:::info

В этой статье описывается AdGuard для Windows v8.0 — комплексный блокировщик рекламы, который защищает ваше устройство на системном уровне. Это бета-релиз, который ещё находится в стадии разработки. Чтобы начать им пользоваться, скачайте [бета-версию AdGuard для Windows](https://agrd.io/windows_beta).

:::

В разделе _Расширенные настройки_ содержатся параметры, выходящие за рамки обычных потребностей большинства пользователей. AdGuard для Windows прекрасно работает «из коробки», но эти настройки могут быть полезны в особых случаях или для устранения неполадок.

:::caution

Изменение расширенных настроек без их понимания может вызвать проблемы с производительностью, нарушить подключение к интернету или повлиять на вашу безопасность и приватность. Вносите изменения только в том случае, если вы знаете, что делаете, или по просьбе нашей команды поддержки.

:::

## Исключите приложение из фильтрации, введя полный путь

Если вы хотите, чтобы AdGuard не фильтровал конкретное приложение, введите здесь полный путь к его файлу. Вы можете добавить несколько приложений, разделяя их пути точками с запятой.

## Получать всплывающие уведомления AdGuard

Включите эту функцию, чтобы видеть всплывающие уведомления AdGuard. Они появляются не слишком часто и содержат только важную информацию. Вы также можете повторно открыть последнее уведомление из трей-меню.

## Автоматически перехватывать URL-адреса подписки

Если функция включена, AdGuard будет автоматически определять ссылки подписки на фильтры (например, `abp:subscribe`) и открывать окно, чтобы помочь вам добавить их в ваши фильтры.

## Использовать драйвер в режиме перенаправления

Если эта опция включена, AdGuard перенаправляет весь ваш трафик на локальный прокси-сервер для фильтрации.

Если она отключена, AdGuard фильтрует трафик напрямую, не перенаправляя его. В этом режиме Windows видит AdGuard как единственное приложение, подключающееся к интернету, поскольку все остальные приложения проходят через него. Это может немного улучшить производительность, но при этом снизить эффективность системного фаервола.

## Открывать AdGuard при включении устройства

Включите эту опцию, чтобы окно AdGuard запускалось автоматически при включении компьютера.

## Включать фильтрацию при запуске системы

Начиная с версии 7.12, AdGuard не фильтрует трафик автоматически после запуска вашего ПК — если только не включена опция _Запускать фильтрацию при загрузке системы_. Вместо этого он работает в пассивном «режиме ожидания».

Включение этой функции разрешает AdGuard немедленно начать фильтровать трафик, даже если приложение не было открыто.

## Фильтровать локальные адреса

Включите эту опцию, чтобы разрешить AdGuard фильтровать трафик loopback (localhost), который некоторые приложения используют для обмена данными внутри системы. Если установлен AdGuard VPN, эта настройка всегда включена, поскольку нужна VPN правильной работы.

## Записывать HAR

Эта функция предназначена исключительно для решения проблем. Если она включена, AdGuard создаёт HAR-файл (формат HTTP Archive 1.2) с подробной информацией обо всех отфильтрованных запросах. Вы можете открыть его в таких приложениях, как Fiddler.

Имейте в виду: это может замедлить работу вашего браузера.

## Показывать QUIC в журнале фильтрации

Если эта функция активирована, AdGuard будет включать трафик протокола QUIC в журнал фильтрации — но только для заблокированных запросов.

## Блокировать Java

Некоторые сайты до сих пор используют Java-плагины, которые основаны на устаревшей и небезопасной технологии. Вы можете отключить эти плагины в целях безопасности.

Использование опции _Блокировать Java_ не влияет на JavaScript — он останется включённым.

## Режим блокировки для DNS-правил

Выберите, как AdGuard будет реагировать, если домен заблокирован DNS-правилом на основе [синтаксиса в стиле hosts](https://adguard-dns.io/kb/general/dns-filtering-syntax/#etc-hosts-syntax).

- Возвращать ошибку `REFUSED`
- Возвращать ошибку `NXDOMAIN`
- Возвращать пользовательский IP-адрес

### Пользовательский IPv4-адрес

Если в _Режиме блокировки для правил DNS_ выбран _Пользовательский IP-адрес_, этот IP-адрес будет возвращён в ответ на заблокированные A-запросы. Если ничего не указано, AdGuard ответит стандартным сообщением об ошибке REFUSED.

### Пользовательский IPv6-адрес

Если в _Режиме блокировки для правил DNS_ выбран _Пользовательский IP-адрес_, этот IP-адрес будет возвращён в ответ на заблокированные AAAA-запросы. Если ничего не указано, AdGuard ответит стандартным сообщением об ошибке REFUSED.

## Fallback-серверы

Здесь можно указать резервные DNS-серверы. AdGuard будет использовать их, если основной DNS-сервер не ответит в течение установленного вами времени. Вы можете:

- Использовать системные DNS-серверы по умолчанию
- Добавить пользовательские резервные серверы (fallback)
- Или вообще отказаться от использования резервных серверов

## Время ожидания сервера DNS

Укажите, как долго (в миллисекундах) AdGuard должен ждать ответа DNS, прежде чем переключиться на резервный сервер. Если оставить поле пустым или заполнить его неправильно, по умолчанию будет установлено значение 5000 мс (5 секунд).

## Пользовательские bootstrap-адреса

Bootstrap — это промежуточный DNS-сервер, используемый для получения IP-адреса безопасного DNS-сервера, который вы выбрали ранее в разделе DNS-защита. Такое «промежуточное звено» нужно при использовании протоколов, которые обозначают адрес сервера буквами (например, DNS-over-TLS). В этом случае bootstrap выступает в роли переводчика, трансформируя буквы в цифры, понятные вашей системе.

Но если нужно, вы можете указать здесь разные IP-адреса — они будут использоваться в порядке сверху вниз. Если ни один из них не сработает или поле ввода останется пустым, AdGuard вернётся к системным настройкам по умолчанию.

## DNS-исключения

Домены, перечисленные здесь, обходят серверы AdGuard DNS. Их запросы проходят через стандартный резолвер системы, и AdGuard не применяет к ним никаких правил блокировки.
