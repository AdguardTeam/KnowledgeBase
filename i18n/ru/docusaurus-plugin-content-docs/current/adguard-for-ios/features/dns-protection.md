---
title: DNS-защита
sidebar_position: 2
---

:::info

В этой статье рассказывается об AdGuard для iOS — многофункциональном блокировщике рекламы, который защищает ваше устройство на системном уровне. [Скачайте приложение AdGuard](https://agrd.io/download-kb-adblock), чтобы увидеть, как оно работает

:::

[DNS-защита](https://adguard-dns.io/kb/general/dns-filtering/) повышает вашу конфиденциальность, шифруя DNS-трафик. В отличие от Защиты Safari, DNS-защита распространяется на всё устройство, то есть работает в других браузерах и приложениях. Включите эту функцию, чтобы шифровать DNS-трафик и блокировать отслеживающие домены. Это можно сделать на главном экране (нажмите на изображение щита в верхней части экрана) или на вкладке _Защита_.

:::note

Чтобы управлять DNS-настройками, AdGuard нужно создать локальный VPN. Ваш трафик будет фильтроваться локально, прямо на вашем устройстве. Тем не менее, система попросит вас подтвердить разрешение на доступ.

:::

### Реализация DNS {#dns-implementation}

![Экран реализации DNS \*mobile\_border](https://cdn.adtidy.org/public/Adguard/kb/iOS/features/implementation_ru.jpeg)

В этом разделе есть две опции на выбор: AdGuard и Нативная. Это два метода настройки DNS.

При выборе Нативной реализации DNS-запросы обрабатываются системой, а не приложением. Это означает, что AdGuard не нужно создавать локальный VPN. К сожалению, это не поможет вам обойти системные ограничения и использовать AdGuard вместе с другими приложениями на основе VPN: если включено любое VPN-приложение, нативный DNS игнорируется. Следовательно, вы не сможете фильтровать трафик локально или использовать наш новый протокол [DNS-over-QUIC (DoQ)](https://adguard.com/en/blog/dns-over-quic.html).

### DNS-серверы {#dns-servers}

Следующий раздел, который вы увидите на экране DNS-защиты, — это DNS-сервер. В ней показаны выбранные в данный момент DNS-сервер и тип шифрования. Нажмите на кнопку «DNS-сервер», если хотите изменить один из этих параметров (или оба).

![DNS-серверы \*mobile\_border](https://cdn.adtidy.org/public/Adguard/kb/iOS/features/dns_server_ru.jpeg)

Серверы отличаются скоростью, используемым протоколом, надёжностью, политикой логирования и т. д. По умолчанию AdGuard предложит несколько DNS-серверов из числа наиболее популярных (включая AdGuard DNS). Нажмите на любой из них, чтобы изменить тип шифрования (если такая опция предусмотрена владельцем сервера) или перейти на домашнюю страницу сервера. Мы добавили такие ярлыки, как `Политика «Без логов»`, `Блокировка рекламы`, `Безопасность`, чтобы помочь вам сделать выбор.

Помимо этого, в нижней части экрана есть возможность добавить пользовательский DNS-сервер. Он поддерживает обычные серверы, DNSCrypt, DNS-over-HTTPS, DNS-over-TLS и DNS-over-QUIC.

#### Базовая HTTP-аутентификация для DNS-over-HTTPS

Эта функция привносит возможности аутентификации протокола HTTP в DNS, который не имеет встроенной аутентификации. Аутентификация в DNS полезна, если вы хотите ограничить доступ к своему DNS-серверу определённым пользователям.

Чтобы включить эту функцию:

1. В AdGuard DNS перейдите в _Настройки сервера_ → _Устройства_ → _Настройки_ и измените DNS-сервер на сервер с аутентификацией. Если вы нажмёте _Запретить другие протоколы_, подключиться к вашему серверу через другие протоколы будет невозможно. Скопируйте сгенерированный адрес.

![DNS-over-HTTPS с аутентификацией](https://cdn.adtidy.org/content/release_notes/dns/v2-7/http-auth/http-auth-en.png)

1. В AdGuard для iOS перейдите на вкладку _Защита_ → _DNS-защита_ → _DNS-сервер_ и вставьте сгенерированный адрес в поле _Добавить пользовательский DNS-сервер_. Сохраните и выберите новую конфигурацию.

Чтобы проверить, всё ли настроено правильно, перейдите на нашу [страницу диагностики](https://adguard.com/ru/test.html).

### Настройки сети {#network-settings}

![Настройки сети \*mobile\_border](https://cdn.adtidy.org/public/Adguard/kb/iOS/features/network_settings_ru.jpeg)

Пользователи также могут управлять DNS-защитой на экране _Настройки сети_. Опции _Фильтровать мобильные данные_ и _Фильтровать Wi-Fi_ включают или отключают DNS-защиту для соответствующих типов сети. Ниже, в разделе _Сети-исключения_, вы можете исключить определённые сети Wi-Fi из DNS-защиты (например, исключить домашнюю сеть, если вы используете [AdGuard Home](https://adguard.com/adguard-home/overview.html)).

### DNS-фильтрация {#dns-filtering}

DNS-фильтрация позволяет настроить DNS-трафик: можно включить DNS-фильтр AdGuard, добавить собственные DNS-фильтры и использовать чёрный или белый список DNS.

Как найти функцию:

_Защита_ (значок щита в нижней строке меню) → _DNS-защита_ → _DNS-фильтрация_

![Экран DNS-фильтрации \*mobile\_border](https://cdn.adtidy.org/public/Adguard/kb/iOS/features/dns_filtering_ru.jpeg)

#### DNS-фильтры {#dns-filters}

Подобно фильтрам, работающим в Safari, DNS-фильтры представляют собой наборы правил, написанных в соответствии со специальным [синтаксисом](https://adguard-dns.io/kb/general/dns-filtering-syntax/). AdGuard будет отслеживать ваш DNS-трафик и блокировать запросы, подходящие под одно или несколько правил. Вы можете использовать фильтры, такие как [фильтр AdGuard DNS](https://github.com/AdguardTeam/AdguardSDNSFilter), или добавить файлы hosts в качестве фильтров. Также вы можете добавить несколько фильтров одновременно. Узнать, как это сделать, можно [в отдельной инструкции](adguard-for-ios/solving-problems/system-wide-filtering).

#### Белый и чёрный списки {#allowlist-blocklist}

Вы можете точечно влиять на DNS-фильтрацию не только с помощью DNS-фильтров, но и добавляя отдельные домены в списки. Чёрный список даже поддерживает тот же синтаксис для DNS-фильтрации, и оба списка можно импортировать и экспортировать, как и Белый список в блокировке контента Safari.
