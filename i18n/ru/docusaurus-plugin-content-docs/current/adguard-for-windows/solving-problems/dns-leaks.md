---
title: Возможные утечки DNS
sidebar_position: 9
---

:::info

В этой статье рассказывается об AdGuard для Windows — многофункциональном блокировщике рекламы, который защищает ваше устройство на системном уровне. Чтобы увидеть, как он работает, [скачайте приложение AdGuard](https://agrd.io/download-kb-adblock)

:::

В AdGuard для Windows можно указать адрес DNS-сервера, который будет обрабатывать запросы вместо системного DNS-сервера, обычно предоставляемого провайдером (если это не отменено в настройках системы). Замена DNS-сервера, может защитить ваш DNS-трафик от прослушивания провайдером. Более того, выбрав зашифрованный и/или фильтрующий DNS-сервер, вы получите дополнительную защиту от киберпреступников и назойливой рекламы.

Многие пользователи AdGuard для Windows ценят функцию защиты DNS. But some of them encounter the following issue: a check on a website like https://ipleak.net/ shows that requests are handled by the default DNS server instead of the selected one. В этой статье мы расскажем, почему это происходит и как этого избежать.

## Bootstrap DNS-адрес

Адреса DNS-серверов могут быть записаны как IP-адреса или как доменные имена. В случае с IP-адресами сложностей не возникает: AdGuard перенаправляет DNS-запрос непосредственно на сервер, указанный в модуле DNS-защиты. Однако адреса зашифрованных DNS-серверов, таких как DoT или DoH, чаще всего записываются как доменные имена. В этом случае, чтобы сначала разрешить адрес зашифрованного DNS-сервера, AdGuard отправляет DNS-запрос на bootstrap-адрес, который по умолчанию является системным DNS-сервером. Это соединение службы проверки воспринимают как утечку.

**Для устранения этой утечки:**

- перейдите в *Расширенные настройки*
- прокрутите вниз до раздела *Список пользовательских bootstrap-адресов*
- enter the custom bootstrap address in the IP address format (you may use [the list of known DNS providers](https://adguard-dns.io/kb/general/dns-providers/))
- нажмите *Сохранить*

## Резервный (fallback) DNS-сервер

Иногда AdGuard не может связаться с указанным сервером из-за плохого интернет-соединения, истечения времени ожидания ответа сервера, установленного по умолчанию, или других проблем, связанных с сервером. В этом случае он подключится к резервному серверу, который по умолчанию является системным DNS-сервером. Это соединение также будет рассматриваться службой проверки как утечка.

**Для устранения этой утечки: **

- перейдите в *Расширенные настройки*
- прокрутите вниз до раздела *Резервные (fallback) серверы*
- отметьте опцию *Использовать пользовательские серверы*
- then find the *List of custom fallback servers* section and enter the custom fallback servers one per line

или

- перейдите в *Расширенные настройки*
- прокрутите вниз до раздела *Резервные (fallback) серверы*
- выберите *Не использовать резервные серверы*

или

- перейдите в *Расширенные настройки*
- прокрутите вниз до раздела *Время ожидания ответа DNS-сервера*
- введите произвольное большое число
